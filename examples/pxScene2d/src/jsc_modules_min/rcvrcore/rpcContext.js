function RPCContext(a){function b(a,b){if(b===void 0||null===b||0===b.length||1===b.length&&"*"===b[0][1])return!0;var c=a.lastIndexOf(".");if(-1===c)return!1;for(var d,e=a.substring(0,c+1),f=0;f<b.length;++f)if(d=b[f][1]+".",d.length<=e.length){var g=e.substring(0,d.length);if(d===g)return!0}return!1}var c,d,e=a,f=null,g=!1,h={};this.registerApp=function(a){return null===f||g?console.error("RPC registerApp: No rpcController exists or target app is already registered for "+a+", rpcController="+f):(g=f.registerApp(a,e),c=a),g},this.onRPCCall=function(a){d=a},this.registerFunction=function(a,b){return null!==f&&g?(h[a]=b,!0):(console.error("No rpcController exists or target  for registering function "+g),!1)},this.execute=function(a,b,d,e){null===f?console.error("No rpcController for executing RPC function "+a+":"+b):f.execute(c,a,b,d,e)},this._execute=function(a,c,e,f){return h.hasOwnProperty(e)?b(a,h[e])?d(e,f):(console.error("RPC execute: function name<"+e+"> doesn't allow calls from sourceTarget domain <"+a+">"),!1):(console.error("RPC execute: function name<"+e+"> doesn't exist in target <"+c+">"),!1)},this._setRPCController=function(a){f=a}}module.exports=RPCContext;