function RPCContext(a){function b(a,b){if(b===void 0||null===b||0===b.length||1===b.length&&"*"===b[0][1])return!0;var c=a.lastIndexOf(".");if(-1===c)return!1;for(var d,e=a.substring(0,c+1),f=0;f<b.length;++f)if(d=b[f][1]+".",d.length<=e.length){var g=e.substring(0,d.length);if(d===g)return!0}return!1}var c,d,e=null,f=!1,g={};this.registerApp=function(b){return null===e||f?console.error("RPC registerApp: No rpcController exists or target app is already registered for "+b+", rpcController="+e):(f=e.registerApp(b,a),c=b),f},this.onRPCCall=function(a){d=a},this.registerFunction=function(a,b){return null!==e&&f?(g[a]=b,!0):(console.error("No rpcController exists or target  for registering function "+f),!1)},this.execute=function(a,b,d,f){null===e?console.error("No rpcController for executing RPC function "+a+":"+b):e.execute(c,a,b,d,f)},this._execute=function(a,c,e,f){return g.hasOwnProperty(e)?b(a,g[e])?d(e,f):(console.error("RPC execute: function name<"+e+"> doesn't allow calls from sourceTarget domain <"+a+">"),!1):(console.error("RPC execute: function name<"+e+"> doesn't exist in target <"+c+">"),!1)},this._setRPCController=function(a){e=a}}module.exports=RPCContext;