var Logger=require("rcvrcore/Logger").Logger,log=new Logger("XModule");function ArgProcessor(){}function evalArgument(a,b){var c=a.indexOf("=");if(-1!=c){var d=[];d.push(a.substring(0,c)),d.push(a.substr(c+1)),2==d.length?(log.message(2,"key="+d[0]+", value="+d[1]),b[d[0]]=d[1]):console.error("Expected key/value pair: "+a)}else console.error("Unknown single argument.  Expected key/value pair: "+a)}module.exports=function(a,b){for(var c={},d=2;d<a.length;++d)log.message(2,"Eval argument["+d+"]: "+a[d]),evalArgument(a[d],c);if(null!=b&&"undefined"!=b)for(var e in b){var f=b[e];if(log.message(2,"Definition["+e+"]"),!c.hasOwnProperty(e))if(f.hasOwnProperty("required")&&!0===f.required){var g="\n\nError: Missing argument named "+e+": "+f.help;throw new Error(g)}else f.hasOwnProperty("default")&&(c[e]=f.default,log.message(2,"Setting ["+e+"] to default vaue: "+f.default))}return c};