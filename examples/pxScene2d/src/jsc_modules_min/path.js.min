"use strict";function normalizeStringWin32(a,b){for(var c,d="",e=-1,f=0,g=0;g<=a.length;++g){if(g<a.length)c=a.charCodeAt(g);else if(47===c||92===c)break;else c=47;if(47===c||92===c){if(e===g-1||1===f);else if(e!==g-1&&2===f){if(2>d.length||46!==d.charCodeAt(d.length-1)||46!==d.charCodeAt(d.length-2))if(2<d.length){const a=d.length-1;for(var h=a;0<=h&&92!==d.charCodeAt(h);--h);if(h!==a){d=-1===h?"":d.slice(0,h),e=g,f=0;continue}}else if(2===d.length||1===d.length){d="",e=g,f=0;continue}b&&(0<d.length?d+="\\..":d="..")}else 0<d.length?d+="\\"+a.slice(e+1,g):d=a.slice(e+1,g);e=g,f=0}else 46===c&&-1!==f?++f:f=-1}return d}function normalizeStringPosix(a,b){for(var c,d="",e=-1,f=0,g=0;g<=a.length;++g){if(g<a.length)c=a.charCodeAt(g);else if(47===c)break;else c=47;if(47===c){if(e===g-1||1===f);else if(e!==g-1&&2===f){if(2>d.length||46!==d.charCodeAt(d.length-1)||46!==d.charCodeAt(d.length-2))if(2<d.length){const a=d.length-1;for(var h=a;0<=h&&47!==d.charCodeAt(h);--h);if(h!==a){d=-1===h?"":d.slice(0,h),e=g,f=0;continue}}else if(2===d.length||1===d.length){d="",e=g,f=0;continue}b&&(0<d.length?d+="/..":d="..")}else 0<d.length?d+="/"+a.slice(e+1,g):d=a.slice(e+1,g);e=g,f=0}else 46===c&&-1!==f?++f:f=-1}return d}win32={normalize:function(a){const b=a.length;if(0===b)return".";var c,d=0,e=a.charCodeAt(0),f=!1;if(1<b){if(47!==e&&92!==e)(65<=e&&90>=e||97<=e&&122>=e)&&(e=a.charCodeAt(1),58===a.charCodeAt(1)&&(c=a.slice(0,2),d=2,2<b&&(e=a.charCodeAt(2),(47===e||92===e)&&(f=!0,d=3))));else if(f=!0,e=a.charCodeAt(1),47===e||92===e){for(var g=2,h=g;g<b&&(e=a.charCodeAt(g),47!==e&&92!==e);++g);if(g<b&&g!==h){const f=a.slice(h,g);for(h=g;g<b&&(e=a.charCodeAt(g),47===e||92===e);++g);if(g<b&&g!==h){for(h=g;g<b&&(e=a.charCodeAt(g),47!==e&&92!==e);++g);if(g===b)return"\\\\"+f+"\\"+a.slice(h)+"\\";g!==h&&(c="\\\\"+f+"\\"+a.slice(h,g),d=g)}}}else d=1;}else if(47===e||92===e)return"\\";e=a.charCodeAt(b-1);var i,k=47===e||92===e;return i=d<b?normalizeStringWin32(a.slice(d),!f):"",0!==i.length||f||(i="."),0<i.length&&k&&(i+="\\"),void 0===c?f?0<i.length?"\\"+i:"\\":0<i.length?i:"":f?0<i.length?c+"\\"+i:c+"\\":0<i.length?c+i:c},extname:function(a){var b=a.split(".");return 1<b.length?"."+b[b.length-1]:""}},posix={sep:"/",delimiter:":",normalize:function(a){if(0===a.length)return".";const b=47===a.charCodeAt(0),c=47===a.charCodeAt(a.length-1);return a=normalizeStringPosix(a,!b),0!==a.length||b||(a="."),0<a.length&&c&&(a+="/"),b?"/"+a:a},extname:function(a){var b=a.split(".");return 1<b.length?"."+b[b.length-1]:""}},module.exports="win32"===uv_platform()?win32:posix;